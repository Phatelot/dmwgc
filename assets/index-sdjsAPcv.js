var At=Object.defineProperty;var Lt=(t,e,i)=>e in t?At(t,e,{enumerable:!0,configurable:!0,writable:!0,value:i}):t[e]=i;var Be=(t,e,i)=>(Lt(t,typeof e!="symbol"?e+"":e,i),i);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const l of s)if(l.type==="childList")for(const a of l.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function i(s){const l={};return s.integrity&&(l.integrity=s.integrity),s.referrerPolicy&&(l.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?l.credentials="include":s.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function r(s){if(s.ep)return;s.ep=!0;const l=i(s);fetch(s.href,l)}})();function T(){}function Wt(t){return!!t&&(typeof t=="object"||typeof t=="function")&&typeof t.then=="function"}function _t(t){return t()}function Je(){return Object.create(null)}function re(t){t.forEach(_t)}function yt(t){return typeof t=="function"}function me(t,e){return t!=t?e==e:t!==e||t&&typeof t=="object"||typeof t=="function"}function It(t){return Object.keys(t).length===0}function $e(t){return t??""}function u(t,e){t.appendChild(e)}function A(t,e,i){t.insertBefore(e,i||null)}function N(t){t.parentNode&&t.parentNode.removeChild(t)}function ve(t,e){for(let i=0;i<t.length;i+=1)t[i]&&t[i].d(e)}function je(t){return document.createElement(t)}function g(t){return document.createElementNS("http://www.w3.org/2000/svg",t)}function L(t){return document.createTextNode(t)}function $(){return L(" ")}function Se(){return L("")}function x(t,e,i,r){return t.addEventListener(e,i,r),()=>t.removeEventListener(e,i,r)}function n(t,e,i){i==null?t.removeAttribute(e):t.getAttribute(e)!==i&&t.setAttribute(e,i)}function J(t,e,i){t.setAttributeNS("http://www.w3.org/1999/xlink",e,i)}function Ot(t){return Array.from(t.childNodes)}function ne(t,e){e=""+e,t.data!==e&&(t.data=e)}function Et(t,e,{bubbles:i=!1,cancelable:r=!1}={}){return new CustomEvent(t,{detail:e,bubbles:i,cancelable:r})}let Ne;function se(t){Ne=t}function bt(){if(!Ne)throw new Error("Function called outside component initialization");return Ne}function Pe(){const t=bt();return(e,i,{cancelable:r=!1}={})=>{const s=t.$$.callbacks[e];if(s){const l=Et(e,i,{cancelable:r});return s.slice().forEach(a=>{a.call(t,l)}),!l.defaultPrevented}return!0}}const ke=[],Xe=[];let we=[];const Ve=[],$t=Promise.resolve();let xe=!1;function St(){xe||(xe=!0,$t.then(De))}function Ge(t){we.push(t)}const He=new Set;let be=0;function De(){if(be!==0)return;const t=Ne;do{try{for(;be<ke.length;){const e=ke[be];be++,se(e),Pt(e.$$)}}catch(e){throw ke.length=0,be=0,e}for(se(null),ke.length=0,be=0;Xe.length;)Xe.pop()();for(let e=0;e<we.length;e+=1){const i=we[e];He.has(i)||(He.add(i),i())}we.length=0}while(ke.length);for(;Ve.length;)Ve.pop()();xe=!1,He.clear(),se(t)}function Pt(t){if(t.fragment!==null){t.update(),re(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(Ge)}}function Tt(t){const e=[],i=[];we.forEach(r=>t.indexOf(r)===-1?e.push(r):i.push(r)),i.forEach(r=>r()),we=e}const Ee=new Set;let ge;function Ae(){ge={r:0,c:[],p:ge}}function Le(){ge.r||re(ge.c),ge=ge.p}function B(t,e){t&&t.i&&(Ee.delete(t),t.i(e))}function U(t,e,i,r){if(t&&t.o){if(Ee.has(t))return;Ee.add(t),ge.c.push(()=>{Ee.delete(t),r&&(i&&t.d(1),r())}),t.o(e)}else r&&r()}function Ct(t,e){const i=e.token={};function r(s,l,a,c){if(e.token!==i)return;e.resolved=c;let h=e.ctx;a!==void 0&&(h=h.slice(),h[a]=c);const o=s&&(e.current=s)(h);let p=!1;e.block&&(e.blocks?e.blocks.forEach((_,d)=>{d!==l&&_&&(Ae(),U(_,1,1,()=>{e.blocks[d]===_&&(e.blocks[d]=null)}),Le())}):e.block.d(1),o.c(),B(o,1),o.m(e.mount(),e.anchor),p=!0),e.block=o,e.blocks&&(e.blocks[l]=o),p&&De()}if(Wt(t)){const s=bt();if(t.then(l=>{se(s),r(e.then,1,e.value,l),se(null)},l=>{if(se(s),r(e.catch,2,e.error,l),se(null),!e.hasCatch)throw l}),e.current!==e.pending)return r(e.pending,0),!0}else{if(e.current!==e.then)return r(e.then,1,e.value,t),!0;e.resolved=t}}function Rt(t,e,i){const r=e.slice(),{resolved:s}=t;t.current===t.then&&(r[t.value]=s),t.current===t.catch&&(r[t.error]=s),t.block.p(r,i)}function V(t){return(t==null?void 0:t.length)!==void 0?t:Array.from(t)}function de(t){t&&t.c()}function oe(t,e,i){const{fragment:r,after_update:s}=t.$$;r&&r.m(e,i),Ge(()=>{const l=t.$$.on_mount.map(_t).filter(yt);t.$$.on_destroy?t.$$.on_destroy.push(...l):re(l),t.$$.on_mount=[]}),s.forEach(Ge)}function ce(t,e){const i=t.$$;i.fragment!==null&&(Tt(i.after_update),re(i.on_destroy),i.fragment&&i.fragment.d(e),i.on_destroy=i.fragment=null,i.ctx=[])}function Ft(t,e){t.$$.dirty[0]===-1&&(ke.push(t),St(),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function _e(t,e,i,r,s,l,a=null,c=[-1]){const h=Ne;se(t);const o=t.$$={fragment:null,ctx:[],props:l,update:T,not_equal:s,bound:Je(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(h?h.$$.context:[])),callbacks:Je(),dirty:c,skip_bound:!1,root:e.target||h.$$.root};a&&a(o.root);let p=!1;if(o.ctx=i?i(t,e.props||{},(_,d,...b)=>{const m=b.length?b[0]:d;return o.ctx&&s(o.ctx[_],o.ctx[_]=m)&&(!o.skip_bound&&o.bound[_]&&o.bound[_](m),p&&Ft(t,_)),d}):[],o.update(),p=!0,re(o.before_update),o.fragment=r?r(o.ctx):!1,e.target){if(e.hydrate){const _=Ot(e.target);o.fragment&&o.fragment.l(_),_.forEach(N)}else o.fragment&&o.fragment.c();e.intro&&B(t.$$.fragment),oe(t,e.target,e.anchor),De()}se(h)}class ye{constructor(){Be(this,"$$");Be(this,"$$set")}$destroy(){ce(this,1),this.$destroy=T}$on(e,i){if(!yt(i))return T;const r=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return r.push(i),()=>{const s=r.indexOf(i);s!==-1&&r.splice(s,1)}}$set(e){this.$$set&&!It(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}const Bt="4";typeof window<"u"&&(window.__svelte||(window.__svelte={v:new Set})).v.add(Bt);const Ht="/dmwgc/assets/Benchidori-n4RXg8lo.jpg",xt="/dmwgc/assets/Chillchucks_Wife-Z0DXycrM.jpg",Gt="/dmwgc/assets/Cithis-DHrl0prL.jpg",jt="/dmwgc/assets/Daya-dTfZdvZn.jpg",Dt="/dmwgc/assets/Dungeon_Dwellers-6lRSkuWX.jpg",Ut="/dmwgc/assets/Elven_Queen-dZS69lkp.jpg",zt="/dmwgc/assets/Erique-llQEZPPe.jpg",Kt="/dmwgc/assets/Falin-WnOWjTZK.jpg",qt="/dmwgc/assets/Flamela-ezCwjgyH.jpg",Yt="/dmwgc/assets/Fleki-0Ew3H-6j.jpg",Zt="/dmwgc/assets/Golden_Kingdom-sS00cCnW.jpg",Qt="/dmwgc/assets/Hien-OpQ-miqE.jpg",Jt="/dmwgc/assets/Kiki-RB-1TSuo.jpg",Xt="/dmwgc/assets/Leed-3NqcsME5.jpg",Vt="/dmwgc/assets/Maizuru-GYb3xqLY.jpg",en="/dmwgc/assets/Marcille-AtXsHK8d.jpg",tn="/dmwgc/assets/Marcilles_Mom-c38OE0X9.jpg",nn="/dmwgc/assets/Milsiril-JqyP5kps.jpg",rn="/dmwgc/assets/Misyl-cQmdTZhY.jpg",sn="/dmwgc/assets/Monster_Falin-VZhTmQZh.jpg",ln="/dmwgc/assets/Namari-BCNEoVMq.jpg",an="/dmwgc/assets/Otta-U2HjgDJ0.jpg",on="/dmwgc/assets/Pattadol-c-XqPgpv.jpg",cn="/dmwgc/assets/Rin-RfwZ7A3C.jpg",hn="/dmwgc/assets/Tade-EC0lboRI.jpg",un="/dmwgc/assets/The_Queens_Attendants-zkqeGrsV.jpg",fn="/dmwgc/assets/Unnamed_Adventurers-t7AZv4OH.jpg",gn="/dmwgc/assets/Unnamed_Canaries-6yv67kB8.jpg",pe={Falin:{heightInMeters:1.7,gender:"WOMAN",baseWeight:152,party:"LAIOS",pictureLink:Kt,species:["TALLMAN"],immobilityBMI:130},Marcille:{heightInMeters:1.6,gender:"WOMAN",baseWeight:112,party:"LAIOS",pictureLink:en,species:["ELF","TALLMAN"],immobilityBMI:120},Laios:{heightInMeters:1.85,gender:"MAN",baseWeight:196,party:"LAIOS",species:["TALLMAN"],immobilityBMI:200},Chillchuck:{heightInMeters:1.1,gender:"MAN",baseWeight:48,party:"LAIOS",species:["HALFFOOT"],displayName:"Chilchuck",immobilityBMI:110},Namari:{heightInMeters:1.3,gender:"WOMAN",baseWeight:127,party:"ADVENTURERS",pictureLink:ln,species:["DWARF"],immobilityBMI:210},Kiki:{heightInMeters:1.8,gender:"WOMAN",baseWeight:150,party:"ADVENTURERS",pictureLink:Jt,species:["TALLMAN"],immobilityBMI:200},Kaka:{heightInMeters:1.9,gender:"MAN",baseWeight:183,party:"ADVENTURERS",species:["TALLMAN"],immobilityBMI:210},Benichidori:{heightInMeters:1.6,gender:"WOMAN",baseWeight:112,party:"SHUROS",pictureLink:Ht,species:["TALLMAN"],immobilityBMI:140},Maizuru:{heightInMeters:1.65,gender:"WOMAN",baseWeight:125,party:"SHUROS",pictureLink:Vt,species:["TALLMAN"],immobilityBMI:120},Hien:{heightInMeters:1.7,gender:"WOMAN",baseWeight:155,party:"SHUROS",pictureLink:Qt,species:["TALLMAN"],immobilityBMI:180},Tade:{heightInMeters:1.95,gender:"WOMAN",baseWeight:235,party:"SHUROS",pictureLink:hn,species:["OGRE"],immobilityBMI:210},Shuro:{heightInMeters:1.8,gender:"MAN",baseWeight:165,party:"SHUROS",species:["TALLMAN"],immobilityBMI:210},Rin:{heightInMeters:1.65,gender:"WOMAN",baseWeight:110,party:"KABRUS",pictureLink:cn,species:["TALLMAN"],immobilityBMI:120},Daya:{heightInMeters:1.3,gender:"WOMAN",baseWeight:141,party:"KABRUS",pictureLink:jt,species:["DWARF"],immobilityBMI:190},Kabru:{heightInMeters:1.7,gender:"MAN",baseWeight:134,party:"KABRUS",species:["TALLMAN"],immobilityBMI:190},Kuro:{heightInMeters:1.45,gender:"MAN",baseWeight:110,party:"KABRUS",species:["KOBOLD"],immobilityBMI:120},Holm:{heightInMeters:1.4,gender:"MAN",baseWeight:90,party:"KABRUS",species:["GNOME"],immobilityBMI:120},Mickbell:{heightInMeters:1.05,gender:"MAN",baseWeight:44,party:"KABRUS",species:["HALFFOOT"],immobilityBMI:110},Pattadol:{heightInMeters:1.7,gender:"WOMAN",baseWeight:111,party:"MITHRUNS",pictureLink:on,species:["ELF"],immobilityBMI:120},Cithis:{heightInMeters:1.65,gender:"WOMAN",baseWeight:119,party:"MITHRUNS",pictureLink:Gt,species:["ELF"],immobilityBMI:120},Fleki:{heightInMeters:1.3,gender:"WOMAN",baseWeight:66,party:"MITHRUNS",pictureLink:Yt,species:["ELF"],immobilityBMI:110},Otta:{heightInMeters:1.3,gender:"WOMAN",baseWeight:75,party:"MITHRUNS",pictureLink:an,species:["ELF"],immobilityBMI:110},Mithrun:{heightInMeters:1.55,gender:"MAN",baseWeight:111,party:"MITHRUNS",species:["ELF"],immobilityBMI:120},Lycion:{heightInMeters:1.7,gender:"MAN",baseWeight:154,party:"MITHRUNS",species:["ELF"],immobilityBMI:140},Flamela:{heightInMeters:1.4,gender:"WOMAN",baseWeight:95,party:"FLAMELAS",pictureLink:qt,species:["ELF"],immobilityBMI:120},Misyl:{heightInMeters:1.45,gender:"WOMAN",baseWeight:93,party:"FLAMELAS",pictureLink:rn,species:["ELF"],immobilityBMI:130},Erique:{heightInMeters:1.5,gender:"WOMAN",baseWeight:110,party:"FLAMELAS",pictureLink:zt,species:["ELF"],immobilityBMI:120},Unnamed_Elves:{heightInMeters:1.5,gender:"WOMAN",baseWeight:665,party:"FLAMELAS",numbers:7,pictureLink:gn,species:["ELF"],displayName:"Unnamed canaries",immobilityBMI:120},Queen:{heightInMeters:1.7,gender:"WOMAN",baseWeight:115,party:"OTHERS",pictureLink:Ut,species:["ELF"],displayName:"The Elven Queen",immobilityBMI:140},Milsiril:{heightInMeters:1.5,gender:"WOMAN",baseWeight:104,party:"OTHERS",pictureLink:nn,species:["ELF"],immobilityBMI:140},Marcilles_Mom:{heightInMeters:1.55,gender:"WOMAN",baseWeight:110,party:"OTHERS",pictureLink:tn,species:["ELF"],displayName:"Marcille's Mom",immobilityBMI:120},Attendants:{heightInMeters:1.5,gender:"WOMAN",baseWeight:380,party:"OTHERS",numbers:4,pictureLink:un,species:["ELF"],displayName:"Queen's Attendants",immobilityBMI:130},Leed:{heightInMeters:1.5,gender:"WOMAN",baseWeight:203,party:"DUNGEON",pictureLink:Xt,species:["MONSTER"],immobilityBMI:215},Monster_Falin:{heightInMeters:1.7,gender:"YES",baseWeight:6080,party:"DUNGEON",pictureLink:sn,species:["MONSTER"],displayName:"Monster Falin",immobilityBMI:220},Zon:{heightInMeters:1.75,gender:"MAN",baseWeight:265,party:"DUNGEON",species:["MONSTER"],immobilityBMI:225},Thistle:{heightInMeters:1.3,gender:"MAN",baseWeight:63,party:"DUNGEON",species:["ELF"],immobilityBMI:110},Chillchuck_wife:{heightInMeters:1,baseWeight:42,displayName:"Chilchuck's wife",gender:"WOMAN",party:"OTHERS",pictureLink:xt,species:["HALFFOOT"],immobilityBMI:100},Dungeon_dwellers:{heightInMeters:1.55,baseWeight:555,numbers:5,gender:"WOMAN",party:"OTHERS",pictureLink:Dt,species:["TALLMAN"],immobilityBMI:130,displayName:"Dungeon Dwellers"},Golden_kingdom:{heightInMeters:1.5,baseWeight:475,numbers:5,gender:"WOMAN",party:"DUNGEON",pictureLink:Zt,species:["TALLMAN"],immobilityBMI:120,displayName:"the Golden Kingdom"},Unnamed_adventurers:{heightInMeters:1.65,baseWeight:650,numbers:5,gender:"WOMAN",party:"ADVENTURERS",pictureLink:fn,species:["TALLMAN"],immobilityBMI:150,displayName:"the unnamed adventurers"}};function X(t){return pe[t]}function pn(){return Object.keys(pe)}function Ue(){return Object.values(pe).filter(t=>t.gender==="WOMAN").length}function We(t){return pe[t].party}function Mt(t){return Object.values(pe).filter(e=>e.party===t).length}function mn(t){const e=We(t);return Object.keys(pe).filter(i=>pe[i].party===e)}const dn="/dmwgc/assets/Dungeon-Jn7NGue9.jpg",_n="/dmwgc/assets/Flamelas_Canaries-EsxbtmzU.jpg",yn="/dmwgc/assets/Adventurers-VthkzlMa.jpg",bn="/dmwgc/assets/Kabrus_Party-18NFI4tv.jpg",Mn="/dmwgc/assets/Laios_Party-pRG9VlXq.jpg",kn="/dmwgc/assets/Mithruns_Party-dGWObryV.jpg",wn="/dmwgc/assets/Other-palZctl9.jpg",vn="/dmwgc/assets/Shuros_Party-zc4BQUiy.jpg",kt={DUNGEON:{displayName:"The Dungeon",color:"purple",pictureLink:dn},FLAMELAS:{displayName:"Flamela's Canaries",color:"green",pictureLink:_n},ADVENTURERS:{displayName:"Adventurers",color:"darkTeal",pictureLink:yn},KABRUS:{displayName:"Kabru's Party",color:"blue",pictureLink:bn},LAIOS:{displayName:"Laios' Party",color:"orange",pictureLink:Mn},MITHRUNS:{displayName:"Mithrun's Canaries",color:"darkGreen",pictureLink:kn},SHUROS:{displayName:"Shuro's Party",color:"red",pictureLink:vn},OTHERS:{displayName:"Other",color:"pink",pictureLink:wn}};function ze(t){return kt[t]}function Nn(){return Object.keys(kt)}const An=new Intl.NumberFormat("en-US",{maximumFractionDigits:0}),Ln=new Intl.NumberFormat("en-US",{maximumFractionDigits:1});function D(t){return An.format(t).replace(",","")}function Te(t){return Ln.format(t).replace(",","")}function Wn(t,e){return e*.453/t/t}function In(t,e){return e*t*t/.453}function Ke(t){return t<18.5?"underweight":t<25?"normal":t<30?"overweight":t<40?"obese":t<50?"morbidly obese":t<80?"super morbidly obese":"super super morbidly obese"}function wt(t){const e=Math.round(t*100/2.54);return`${Math.floor(e/12)}'${e%12}"`}function On(t){const e={},i={DUNGEON:0,OTHERS:0,FLAMELAS:0,KABRUS:0,LAIOS:0,MITHRUNS:0,SHUROS:0,ADVENTURERS:0};let r=0;for(const s of t)e[s.character]||(e[s.character]=0),e[s.character]+=s.amount,i[We(s.character)]+=s.amount,r+=s.amount;return pn().map(s=>{const l=e[s]||0,a=X(s);let c=a.baseWeight+l+i[a.party]/Mt(a.party);s==="Monster_Falin"&&(c+=r);const h=a.numbers||1,o=c/h,p=Wn(a.heightInMeters,o)/(s==="Monster_Falin"?40:1);return{name:s,totalDonatedAmount:l,groupWeight:c,weight:o,BMI:p,immobilityThreshold:In(a.heightInMeters,a.immobilityBMI)}})}function En(t){const e={};for(const i of Nn())e[i]={name:i,totalDonatedAmount:0,weight:0};for(const i of t)e[We(i.name)].totalDonatedAmount+=i.totalDonatedAmount,e[We(i.name)].weight+=i.groupWeight;return Object.values(e)}function $n(t,e){const i=[],r={},s=function(a){var c;return r[a]||((c=e.find(h=>h.name===a))==null?void 0:c.weight)},l=Math.min(4,t.length);for(let a=0;a<l;a++){const c=t[t.length-1-a],h={amount:c.amount,character:c.character,gains:[]};i.push(h);const o={},p=mn(c.character),_=Mt(We(c.character)),d=X(c.character).numbers||1;o[c.character]=c.amount;for(let b of p)o[b]=o[b]||0,o[b]+=c.amount/_/d;o.Monster_Falin=o.Monster_Falin||0,o.Monster_Falin+=c.amount;for(let b of Object.keys(o)){const m=s(b),f=m-o[b];h.gains.push({characterName:b,after:m,before:f}),r[b]=f}}return i}function Me(t){return t.characters.find(e=>e.name==="Monster_Falin")}const Ce=100,Re=220;function Sn(t,e,i){const r=Pn(t),s=r.map(h=>h.groupWeight).reduce((h,o)=>h+o,0),l=Cn(r),a=Tn(t),c=Rn(e);return{characters:r,femaleCharacters:l,femaleGroupCharacters:a,parties:c,viewPortHeight:Ce,viewPortWidth:Re,totalWeight:s,donationLog:$n(i,t)}}function Pn(t){const e=Math.max(...t.filter(l=>X(l.name).gender==="WOMAN").map(l=>l.weight)),r=50*Math.min(...t.filter(l=>X(l.name).gender==="WOMAN").map(l=>l.weight)),s=95/(5*Ue()+1);return t.sort((l,a)=>l.weight-a.weight).map((l,a)=>{const c=4*s,h=l.weight/Math.min(r,e)*75,o=83-l.immobilityThreshold/Math.min(r,e)*75,p=83-h,_=X(l.name);return{...l,..._,height:h,width:c,x:2.5+s+5*s*a,y:p,immobilityThresholdY:o,picHeight:c*Re/Ce,barGradient:qe(_.party)}})}function Tn(t){const e=Math.max(...t.filter(l=>X(l.name).gender==="WOMAN").map(l=>l.groupWeight)),r=50*Math.min(...t.filter(l=>X(l.name).gender==="WOMAN").map(l=>l.groupWeight)),s=95/(5*Ue()+1);return t.sort((l,a)=>l.groupWeight-a.groupWeight).map((l,a)=>{const c=X(l.name),h=4*s,o=l.groupWeight/Math.min(r,e)*75,p=83-l.immobilityThreshold*(c.numbers||1)/Math.min(r,e)*75,_=83-o;return{...l,...c,height:o,width:h,x:2.5+s+5*s*a,y:_,immobilityThresholdY:p,picHeight:h*Re/Ce,barGradient:qe(c.party)}}).filter(l=>l.gender==="WOMAN").map((l,a)=>({...l,x:2.5+s+5*s*a}))}function Cn(t){const e=95/(5*Ue()+1);return t.filter(i=>i.gender==="WOMAN").map((i,r)=>({...i,x:2.5+e+5*e*r}))}function Rn(t){const e=95/(5*t.length+1),i=Math.max(...t.map(a=>a.weight)),s=50*Math.min(...t.map(a=>a.weight)),l=4*e;return t.sort((a,c)=>a.weight-c.weight).map((a,c)=>{const h=a.weight/Math.min(s,i)*65,o=70-h,p=ze(a.name);return{...a,...p,height:h,width:l,x:2.5+e+5*e*c,y:o,picHeight:l*Re/Ce,barGradient:qe(a.name)}})}function qe(t){return ze(t).color+"Gradient"}function Fn(t){let e,i,r,s,l,a,c,h;return{c(){e=g("text"),i=g("tspan"),r=L(t[2]),l=g("tspan"),a=L("lbs"),n(i,"class",s=$e(t[2].length>3?"not-so-big":"big")+" svelte-1ubje8b"),n(l,"class","not-so-big svelte-1ubje8b"),n(e,"x",c=t[0].x+"%"),n(e,"y",h=t[0].y+t[0].height+"%"),n(e,"transform","translate(3, 25)")},m(o,p){A(o,e,p),u(e,i),u(i,r),u(e,l),u(l,a)},p(o,p){p&4&&ne(r,o[2]),p&4&&s!==(s=$e(o[2].length>3?"not-so-big":"big")+" svelte-1ubje8b")&&n(i,"class",s),p&1&&c!==(c=o[0].x+"%")&&n(e,"x",c),p&1&&h!==(h=o[0].y+o[0].height+"%")&&n(e,"y",h)},d(o){o&&N(e)}}}function Bn(t){let e,i,r,s,l,a,c,h;return{c(){e=g("text"),i=g("tspan"),r=L(t[2]),l=g("tspan"),a=L("lbs"),n(i,"class",s=$e(t[2].length>3?"very-small":"small")+" svelte-1ubje8b"),n(l,"class","very-small svelte-1ubje8b"),n(e,"x",c=t[0].x+"%"),n(e,"y",h=t[0].y+t[0].height+"%"),n(e,"transform","translate(0, 10)")},m(o,p){A(o,e,p),u(e,i),u(i,r),u(e,l),u(l,a)},p(o,p){p&4&&ne(r,o[2]),p&4&&s!==(s=$e(o[2].length>3?"very-small":"small")+" svelte-1ubje8b")&&n(i,"class",s),p&1&&c!==(c=o[0].x+"%")&&n(e,"x",c),p&1&&h!==(h=o[0].y+o[0].height+"%")&&n(e,"y",h)},d(o){o&&N(e)}}}function Hn(t){let e;function i(l,a){return l[1]?Bn:Fn}let r=i(t),s=r(t);return{c(){s.c(),e=Se()},m(l,a){s.m(l,a),A(l,e,a)},p(l,[a]){r===(r=i(l))&&s?s.p(l,a):(s.d(1),s=r(l),s&&(s.c(),s.m(e.parentNode,e)))},i:T,o:T,d(l){l&&N(e),s.d(l)}}}function xn(t,e,i){let r,{charViewModel:s}=e,{small:l}=e,{groupCharacters:a}=e;return t.$$set=c=>{"charViewModel"in c&&i(0,s=c.charViewModel),"small"in c&&i(1,l=c.small),"groupCharacters"in c&&i(3,a=c.groupCharacters)},t.$$.update=()=>{t.$$.dirty&9&&i(2,r=D(a?s.groupWeight:s.weight))},[s,l,r,a]}class vt extends ye{constructor(e){super(),_e(this,e,xn,Hn,me,{charViewModel:0,small:1,groupCharacters:3})}}const Gn="/dmwgc/assets/Water_Can_Big_PNG-SFfGN0F_.png";function et(t,e,i){const r=t.slice();return r[10]=e[i],r}function tt(t){let e,i,r,s,l,a,c,h,o,p,_,d,b,m,f,y,M,W,O,I,R,k,w,v,E,G,z,S,P,F,H,K,Y,ie,ee,q;return{c(){e=g("text"),i=g("tspan"),r=L("Every 1$* contributed to the collage adds"),s=$(),l=g("tspan"),a=L("three pounds to the characters!"),c=$(),h=g("tspan"),o=L("*Canadian Dollars, so  US Dollars go further"),p=$(),_=g("tspan"),d=L("*"),b=$(),m=g("tspan"),f=L("1lb goes to the character you choose by commenting"),y=$(),M=g("tspan"),W=L("JUST their name with your contribution"),O=$(),I=g("tspan"),R=L("*"),k=$(),w=g("tspan"),v=L("1lb is split between them and their group"),E=$(),G=g("tspan"),z=L("*"),S=$(),P=g("tspan"),F=L("1lb goes to monster Falin"),H=$(),K=g("tspan"),Y=g("a"),ie=L("Click here to fatten your favorite"),ee=$(),q=g("image"),n(i,"text-anchor","middle"),n(l,"dy","3%"),n(l,"x","15%"),n(l,"text-anchor","middle"),n(h,"dy","2%"),n(h,"x","15%"),n(h,"text-anchor","middle"),n(h,"class","very-small svelte-dx5vqw"),n(_,"dy","4%"),n(_,"x","15%"),n(_,"text-anchor","middle"),n(_,"class","not-so-small svelte-dx5vqw"),n(m,"dy","1%"),n(m,"x","15%"),n(m,"text-anchor","middle"),n(M,"dy","3%"),n(M,"x","15%"),n(M,"text-anchor","middle"),n(I,"dy","4%"),n(I,"x","15%"),n(I,"text-anchor","middle"),n(I,"class","not-so-small svelte-dx5vqw"),n(w,"dy","1%"),n(w,"x","15%"),n(w,"text-anchor","middle"),n(G,"dy","4%"),n(G,"x","15%"),n(G,"text-anchor","middle"),n(G,"class","not-so-small svelte-dx5vqw"),n(P,"dy","1%"),n(P,"x","15%"),n(P,"text-anchor","middle"),n(Y,"class","link-tree-link svelte-dx5vqw"),n(Y,"href","https://linktr.ee/ebcart"),n(K,"dy","3%"),n(K,"x","15%"),n(K,"text-anchor","middle"),n(e,"x","15%"),n(e,"y","25%"),n(e,"class","small svelte-dx5vqw"),n(q,"x","16%"),n(q,"y","9%"),n(q,"height","12%"),J(q,"xlink:href",Gn)},m(Q,te){A(Q,e,te),u(e,i),u(i,r),u(e,s),u(e,l),u(l,a),u(e,c),u(e,h),u(h,o),u(e,p),u(e,_),u(_,d),u(e,b),u(e,m),u(m,f),u(e,y),u(e,M),u(M,W),u(e,O),u(e,I),u(I,R),u(e,k),u(e,w),u(w,v),u(e,E),u(e,G),u(G,z),u(e,S),u(e,P),u(P,F),u(e,H),u(e,K),u(K,Y),u(Y,ie),A(Q,ee,te),A(Q,q,te)},d(Q){Q&&(N(e),N(ee),N(q))}}}function nt(t){let e,i,r,s;return{c(){e=g("rect"),n(e,"x",i=t[10].x+"%"),n(e,"y",r=t[10].immobilityThresholdY+"%"),n(e,"width",s=t[10].width+"%"),n(e,"height","0.8%"),n(e,"rx","0.5px"),n(e,"ry","0.5px"),n(e,"stroke","white"),n(e,"stroke-width","0.4"),n(e,"stroke-linecap","round"),n(e,"fill","black")},m(l,a){A(l,e,a)},p(l,a){a&5&&i!==(i=l[10].x+"%")&&n(e,"x",i),a&5&&r!==(r=l[10].immobilityThresholdY+"%")&&n(e,"y",r),a&5&&s!==(s=l[10].width+"%")&&n(e,"width",s)},d(l){l&&N(e)}}}function it(t){let e,i,r,s,l,a,c,h,o,p,_,d,b,m,f,y,M,W,O=!t[1]&&nt(t);function I(){return t[6](t[10])}function R(){return t[7](t[10])}function k(){return t[8](t[10])}return f=new vt({props:{groupCharacters:t[2],charViewModel:t[10],small:!0}}),f.$on("click",k),{c(){O&&O.c(),e=$(),i=g("rect"),h=$(),o=g("image"),m=$(),de(f.$$.fragment),n(i,"x",r=t[10].x+"%"),n(i,"y",s=t[10].y+"%"),n(i,"width",l=t[10].width+"%"),n(i,"height",a=t[10].height+"%"),n(i,"rx","0.5px"),n(i,"ry","0.5px"),n(i,"stroke","white"),n(i,"stroke-width","0.4"),n(i,"stroke-linecap","round"),n(i,"fill",c="url(#"+t[10].barGradient+")"),J(o,"xlink:href",p=t[10].pictureLink),n(o,"x",_=t[10].x+"%"),n(o,"y",d=t[10].y+t[10].height+1+"%"),n(o,"height",b=t[10].picHeight+"%"),n(o,"preserveAspectRatio","true")},m(w,v){O&&O.m(w,v),A(w,e,v),A(w,i,v),A(w,h,v),A(w,o,v),A(w,m,v),oe(f,w,v),y=!0,M||(W=[x(i,"click",I),x(o,"click",R)],M=!0)},p(w,v){t=w,t[1]?O&&(O.d(1),O=null):O?O.p(t,v):(O=nt(t),O.c(),O.m(e.parentNode,e)),(!y||v&5&&r!==(r=t[10].x+"%"))&&n(i,"x",r),(!y||v&5&&s!==(s=t[10].y+"%"))&&n(i,"y",s),(!y||v&5&&l!==(l=t[10].width+"%"))&&n(i,"width",l),(!y||v&5&&a!==(a=t[10].height+"%"))&&n(i,"height",a),(!y||v&5&&c!==(c="url(#"+t[10].barGradient+")"))&&n(i,"fill",c),(!y||v&5&&p!==(p=t[10].pictureLink))&&J(o,"xlink:href",p),(!y||v&5&&_!==(_=t[10].x+"%"))&&n(o,"x",_),(!y||v&5&&d!==(d=t[10].y+t[10].height+1+"%"))&&n(o,"y",d),(!y||v&5&&b!==(b=t[10].picHeight+"%"))&&n(o,"height",b);const E={};v&4&&(E.groupCharacters=t[2]),v&5&&(E.charViewModel=t[10]),f.$set(E)},i(w){y||(B(f.$$.fragment,w),y=!0)},o(w){U(f.$$.fragment,w),y=!1},d(w){w&&(N(e),N(i),N(h),N(o),N(m)),O&&O.d(w),ce(f,w),M=!1,re(W)}}}function jn(t){let e,i,r,s,l,a,c,h,o=D(Me(t[0]).weight)+"",p,_,d,b,m,f,y,M,W=t[1]&&tt(),O=V(t[2]?t[0].femaleGroupCharacters:t[0].femaleCharacters),I=[];for(let k=0;k<O.length;k+=1)I[k]=it(et(t,O,k));const R=k=>U(I[k],1,1,()=>{I[k]=null});return{c(){W&&W.c(),e=$(),i=g("image"),a=$(),c=g("text"),h=g("tspan"),p=L(o),_=L("lbs"),b=$();for(let k=0;k<I.length;k+=1)I[k].c();m=Se(),J(i,"xlink:href",r=Me(t[0]).pictureLink),n(i,"x","4%"),n(i,"y",s=5/t[0].viewPortHeight*t[0].viewPortWidth+"%"),n(i,"height",l=Me(t[0]).picHeight*1.4+"%"),n(i,"preserveAspectRatio","true"),n(h,"class","small svelte-dx5vqw"),n(c,"x","4.8%"),n(c,"y",d=5/t[0].viewPortHeight*t[0].viewPortWidth+"%"),n(c,"transform","translate(10, 4)")},m(k,w){W&&W.m(k,w),A(k,e,w),A(k,i,w),A(k,a,w),A(k,c,w),u(c,h),u(h,p),u(h,_),A(k,b,w);for(let v=0;v<I.length;v+=1)I[v]&&I[v].m(k,w);A(k,m,w),f=!0,y||(M=[x(i,"click",t[4]),x(c,"click",t[5])],y=!0)},p(k,[w]){if(k[1]?W||(W=tt(),W.c(),W.m(e.parentNode,e)):W&&(W.d(1),W=null),(!f||w&1&&r!==(r=Me(k[0]).pictureLink))&&J(i,"xlink:href",r),(!f||w&1&&s!==(s=5/k[0].viewPortHeight*k[0].viewPortWidth+"%"))&&n(i,"y",s),(!f||w&1&&l!==(l=Me(k[0]).picHeight*1.4+"%"))&&n(i,"height",l),(!f||w&1)&&o!==(o=D(Me(k[0]).weight)+"")&&ne(p,o),(!f||w&1&&d!==(d=5/k[0].viewPortHeight*k[0].viewPortWidth+"%"))&&n(c,"y",d),w&15){O=V(k[2]?k[0].femaleGroupCharacters:k[0].femaleCharacters);let v;for(v=0;v<O.length;v+=1){const E=et(k,O,v);I[v]?(I[v].p(E,w),B(I[v],1)):(I[v]=it(E),I[v].c(),B(I[v],1),I[v].m(m.parentNode,m))}for(Ae(),v=O.length;v<I.length;v+=1)R(v);Le()}},i(k){if(!f){for(let w=0;w<O.length;w+=1)B(I[w]);f=!0}},o(k){I=I.filter(Boolean);for(let w=0;w<I.length;w+=1)U(I[w]);f=!1},d(k){k&&(N(e),N(i),N(a),N(c),N(b),N(m)),W&&W.d(k),ve(I,k),y=!1,re(M)}}}function Dn(t,e,i){let{viewModel:r}=e,{displayPromoText:s}=e,{groupCharacters:l}=e;const a=Pe();function c(b){a("selectcharacter",{characterName:b})}const h=()=>c("Monster_Falin"),o=()=>c("Monster_Falin"),p=b=>c(b.name),_=b=>c(b.name),d=b=>c(b.name);return t.$$set=b=>{"viewModel"in b&&i(0,r=b.viewModel),"displayPromoText"in b&&i(1,s=b.displayPromoText),"groupCharacters"in b&&i(2,l=b.groupCharacters)},[r,s,l,c,h,o,p,_,d]}class Un extends ye{constructor(e){super(),_e(this,e,Dn,jn,me,{viewModel:0,displayPromoText:1,groupCharacters:2})}}function rt(t,e,i){const r=t.slice();return r[1]=e[i],r}function st(t){let e,i,r,s,l,a,c,h,o,p,_,d,b,m,f;return m=new vt({props:{charViewModel:t[1],small:!1}}),{c(){e=g("rect"),c=$(),h=g("image"),b=$(),de(m.$$.fragment),n(e,"x",i=t[1].x+"%"),n(e,"y",r=t[1].y+"%"),n(e,"width",s=t[1].width+"%"),n(e,"height",l=t[1].height+"%"),n(e,"rx","0.5px"),n(e,"ry","0.5px"),n(e,"stroke","white"),n(e,"stroke-width","0.4"),n(e,"stroke-linecap","round"),n(e,"fill",a="url(#"+t[1].barGradient+")"),J(h,"xlink:href",o=t[1].pictureLink),n(h,"x",p=t[1].x+"%"),n(h,"y",_=t[1].y+t[1].height+1+"%"),n(h,"height",d=t[1].picHeight+"%"),n(h,"preserveAspectRatio","true")},m(y,M){A(y,e,M),A(y,c,M),A(y,h,M),A(y,b,M),oe(m,y,M),f=!0},p(y,M){(!f||M&1&&i!==(i=y[1].x+"%"))&&n(e,"x",i),(!f||M&1&&r!==(r=y[1].y+"%"))&&n(e,"y",r),(!f||M&1&&s!==(s=y[1].width+"%"))&&n(e,"width",s),(!f||M&1&&l!==(l=y[1].height+"%"))&&n(e,"height",l),(!f||M&1&&a!==(a="url(#"+y[1].barGradient+")"))&&n(e,"fill",a),(!f||M&1&&o!==(o=y[1].pictureLink))&&J(h,"xlink:href",o),(!f||M&1&&p!==(p=y[1].x+"%"))&&n(h,"x",p),(!f||M&1&&_!==(_=y[1].y+y[1].height+1+"%"))&&n(h,"y",_),(!f||M&1&&d!==(d=y[1].picHeight+"%"))&&n(h,"height",d);const W={};M&1&&(W.charViewModel=y[1]),m.$set(W)},i(y){f||(B(m.$$.fragment,y),f=!0)},o(y){U(m.$$.fragment,y),f=!1},d(y){y&&(N(e),N(c),N(h),N(b)),ce(m,y)}}}function zn(t){let e,i,r=V(t[0].parties),s=[];for(let a=0;a<r.length;a+=1)s[a]=st(rt(t,r,a));const l=a=>U(s[a],1,1,()=>{s[a]=null});return{c(){for(let a=0;a<s.length;a+=1)s[a].c();e=Se()},m(a,c){for(let h=0;h<s.length;h+=1)s[h]&&s[h].m(a,c);A(a,e,c),i=!0},p(a,[c]){if(c&1){r=V(a[0].parties);let h;for(h=0;h<r.length;h+=1){const o=rt(a,r,h);s[h]?(s[h].p(o,c),B(s[h],1)):(s[h]=st(o),s[h].c(),B(s[h],1),s[h].m(e.parentNode,e))}for(Ae(),h=r.length;h<s.length;h+=1)l(h);Le()}},i(a){if(!i){for(let c=0;c<r.length;c+=1)B(s[c]);i=!0}},o(a){s=s.filter(Boolean);for(let c=0;c<s.length;c+=1)U(s[c]);i=!1},d(a){a&&N(e),ve(s,a)}}}function Kn(t,e,i){let{viewModel:r}=e;return t.$$set=s=>{"viewModel"in s&&i(0,r=s.viewModel)},[r]}class qn extends ye{constructor(e){super(),_e(this,e,Kn,zn,me,{viewModel:0})}}const Oe="/dmwgc/assets/corner-LhPWaTs7.svg",Yn="/dmwgc/assets/title-vpBJ14wl.jpg";function Zn(t){const e=[],i=t.split(`
`);for(const r of i){const s=Qn(r);s&&e.push(s)}return e}function Qn(t){const[e,i]=t.split("	");return!e||!i?null:{character:e,amount:parseInt(i)}}function lt(t,e){const i=e.characters.find(r=>r.name===t);return t==="Monster_Falin"?Xn(i,e):i.numbers&&i.numbers>1?Vn(i):Jn(i,e)}function Jn(t,e){const i=[],r=t.gender==="MAN"?["He","Him","His"]:["She","Her","Her"];if(t.weight===t.baseWeight?i.push(`${t.displayName||t.name} still hasn't gained any weight, and weighs ${D(t.weight)}lbs.`):i.push(`${t.displayName||t.name} has gained ${D(t.weight-t.baseWeight)}lbs, and now weighs ${D(t.weight)}lbs.`),i.push(`${r[0]}'s ${wt(t.heightInMeters)} tall.`,`That gives ${r[1].toLowerCase()} a BMI of ${Te(t.BMI)}, so ${r[0].toLowerCase()} is ${Ke(t.BMI)}.`),ei(t,e))i.push(`Except for monster Falin, ${r[0].toLowerCase()}'s the fattest character.`);else if(ti(t,e)){const s=ze(t.party);t.party==="DUNGEON"?i.push(`Except for monster Falin, ${r[0].toLowerCase()}'s the fattest among the Dungeon.`):i.push(`${r[0]}'s the fattest among ${s.displayName}.`)}if(Nt(t)){const s=t.weight-t.baseWeight,l=Math.round(t.totalDonatedAmount/s*100);i.push(`${r[0]} has received $${t.totalDonatedAmount} of donation (${l}% of ${r[2].toLowerCase()} gain).`)}else i.push(`${r[0]} hasn't received any donation yet.`);return Ye(t)&&i.push(`${r[0]}'s immobile.`),i}function Xn(t,e){const i=[];if(t.weight===t.baseWeight?i.push(`Monster Falin still hasn't gained any weight, and weighs ${D(t.weight)}lbs.`):i.push(`She has gained ${D(t.weight-t.baseWeight)}lbs, and now weighs ${D(t.weight)}lbs.`),i.push(`She has a normalized BMI of ${Te(t.BMI)}, and is ${Ke(t.BMI)}.`),t.weight>e.totalWeight&&i.push("She's heavier than all the other characters, combined."),Nt(t)){const r=t.weight-t.baseWeight,s=Math.round(t.totalDonatedAmount/r*100);i.push(`She has received $${t.totalDonatedAmount} of donation (${s}% of her gain).`)}else i.push("She hasn't received any donation yet.");return Ye(t)&&i.push("She's immobile."),i}function Vn(t,e){const i=[];return t.weight===t.baseWeight?i.push(`${t.displayName||t.name} still haven't gained any weight, and weigh ${D(t.weight)}lbs each.`):i.push(`${t.displayName||t.name} each weigh ${D(t.weight)}lbs, a ${D(t.weight-t.baseWeight/t.numbers)}lbs gain.`),i.push(`Their total weight is ${D(t.groupWeight)}lbs.`,`They're on average ${wt(t.heightInMeters)} tall.`,`That gives them a BMI of ${Te(t.BMI)}, so they are ${Ke(t.BMI)}.`),Ye(t)&&i.push("They're immobile."),i}function ei(t,e){const i=Math.max(...e.characters.map(r=>r.weight));return t.weight>=i}function ti(t,e){const i=Math.max(...e.characters.filter(r=>r.party===t.party).map(r=>r.weight));return t.weight>=i}function Ye(t){return t.BMI>=t.immobilityBMI}function Nt(t){return t.totalDonatedAmount>0}function at(t,e,i){const r=t.slice();return r[7]=e[i],r[9]=i,r}function ni(t){let e;return{c(){e=g("image"),J(e,"xlink:href",t[1].pictureLink),n(e,"x","10%"),n(e,"y","14.5%"),n(e,"height","25%"),n(e,"preserveAspectRatio","true")},m(i,r){A(i,e,r)},p:T,d(i){i&&N(e)}}}function ot(t){let e,i=t[7]+"",r;return{c(){e=g("tspan"),r=L(i),n(e,"x",(t[9]<6&&t[1].pictureLink?23:10)+"%"),n(e,"dy","4.6%")},m(s,l){A(s,e,l),u(e,r)},p(s,l){l&1&&i!==(i=s[7]+"")&&ne(r,i)},d(s){s&&N(e)}}}function ii(t){let e,i,r,s,l,a,c,h,o,p,_,d=t[1].pictureLink&&ni(t),b=V(lt(t[1].name,t[0])),m=[];for(let f=0;f<b.length;f+=1)m[f]=ot(at(t,b,f));return{c(){e=g("rect"),i=$(),d&&d.c(),r=$(),s=g("text");for(let f=0;f<m.length;f+=1)m[f].c();l=$(),a=g("rect"),c=$(),h=g("text"),o=L("close"),n(e,"x","8%"),n(e,"y","10%"),n(e,"width","84%"),n(e,"height","80%"),n(e,"rx","3px"),n(e,"ry","3px"),n(e,"stroke","#ae2f29"),n(e,"stroke-width","0.4"),n(e,"stroke-linecap","round"),n(e,"fill","#f9edd5"),n(s,"class","big svelte-1791s3e"),n(s,"y","13%"),n(a,"x","83.1%"),n(a,"y","83.5%"),n(a,"height","4.6%"),n(a,"width","8%"),n(a,"rx","1px"),n(a,"ry","1px"),n(a,"stroke","#ae2f29"),n(a,"stroke-width","0.4"),n(a,"stroke-linecap","round"),n(a,"fill","#f9edd5"),n(h,"x","84%"),n(h,"y","87%"),n(h,"class","close svelte-1791s3e")},m(f,y){A(f,e,y),A(f,i,y),d&&d.m(f,y),A(f,r,y),A(f,s,y);for(let M=0;M<m.length;M+=1)m[M]&&m[M].m(s,null);A(f,l,y),A(f,a,y),A(f,c,y),A(f,h,y),u(h,o),p||(_=[x(a,"click",t[4]),x(h,"click",t[5])],p=!0)},p(f,[y]){if(f[1].pictureLink&&d.p(f,y),y&3){b=V(lt(f[1].name,f[0]));let M;for(M=0;M<b.length;M+=1){const W=at(f,b,M);m[M]?m[M].p(W,y):(m[M]=ot(W),m[M].c(),m[M].m(s,null))}for(;M<m.length;M+=1)m[M].d(1);m.length=b.length}},i:T,o:T,d(f){f&&(N(e),N(i),N(r),N(s),N(l),N(a),N(c),N(h)),d&&d.d(f),ve(m,f),p=!1,re(_)}}}function ri(t,e,i){const r=Pe();let{characterName:s}=e,{viewModel:l}=e,a=l.characters.find(p=>p.name===s);function c(){r("close",{})}const h=()=>c(),o=()=>c();return t.$$set=p=>{"characterName"in p&&i(3,s=p.characterName),"viewModel"in p&&i(0,l=p.viewModel)},[l,a,c,s,h,o]}class si extends ye{constructor(e){super(),_e(this,e,ri,ii,me,{characterName:3,viewModel:0})}}function ct(t,e,i){const r=t.slice();return r[6]=e[i],r[8]=i,r}function ht(t){let e,i=(t[6].displayName||t[6].name)+"",r,s,l,a=D(t[6].weight)+"",c,h,o=Te(t[6].BMI)+"",p,_=t[6].numbers?" (each)":"",d,b,m;function f(){return t[3](t[6])}function y(){return t[4](t[6])}return{c(){e=g("tspan"),r=L(i),s=$(),l=g("tspan"),c=L(a),h=L("lbs, BMI: "),p=L(o),d=L(_),n(e,"x",6+Math.floor(t[8]/10)*21+"%"),n(e,"y",17+8*(t[8]%10)+"%"),n(e,"class","not-so-small svelte-dx5vqw"),n(l,"x",6+Math.floor(t[8]/10)*21+"%"),n(l,"y",20+8*(t[8]%10)+"%"),n(l,"class","small svelte-dx5vqw")},m(M,W){A(M,e,W),u(e,r),A(M,s,W),A(M,l,W),u(l,c),u(l,h),u(l,p),u(l,d),b||(m=[x(e,"click",f),x(l,"click",y)],b=!0)},p(M,W){t=M},d(M){M&&(N(e),N(s),N(l)),b=!1,re(m)}}}function li(t){let e,i=V(t[1]),r=[];for(let s=0;s<i.length;s+=1)r[s]=ht(ct(t,i,s));return{c(){e=g("text");for(let s=0;s<r.length;s+=1)r[s].c();n(e,"x","6%"),n(e,"y","15%")},m(s,l){A(s,e,l);for(let a=0;a<r.length;a+=1)r[a]&&r[a].m(e,null)},p(s,[l]){if(l&3){i=V(s[1]);let a;for(a=0;a<i.length;a+=1){const c=ct(s,i,a);r[a]?r[a].p(c,l):(r[a]=ht(c),r[a].c(),r[a].m(e,null))}for(;a<r.length;a+=1)r[a].d(1);r.length=i.length}},i:T,o:T,d(s){s&&N(e),ve(r,s)}}}function ai(t,e,i){let{viewModel:r}=e;const s=Pe();function l(o){s("selectcharacter",{characterName:o})}let a=[...r.characters].sort((o,p)=>(o.displayName||o.name).localeCompare(p.displayName||p.name));const c=o=>l(o.name),h=o=>l(o.name);return t.$$set=o=>{"viewModel"in o&&i(2,r=o.viewModel)},[l,a,r,c,h]}class oi extends ye{constructor(e){super(),_e(this,e,ai,li,me,{viewModel:2})}}function ut(t,e,i){const r=t.slice();return r[4]=e[i],r[6]=i,r}function ft(t,e,i){const r=t.slice();return r[7]=e[i],r[9]=i,r}function gt(t){let e,i=(X(t[7].characterName).displayName||t[7].characterName)+"",r,s,l,a=D(t[7].before)+"",c,h="<-",o,p=D(t[7].after)+"",_,d,b,m;return{c(){e=g("tspan"),r=L(i),s=L(": "),l=g("tspan"),c=L(a),o=L(h),_=L(p),d=g("tspan"),b=L("lbs"),m=$(),n(l,"class","grey svelte-1pzxc24"),n(d,"class","grey svelte-1pzxc24"),n(e,"x",6+t[9]%3*30+"%"),n(e,"y",t[1](t[6])+4+Math.floor(t[9]/3)*3+"%"),n(e,"class","not-so-small-but-still svelte-1pzxc24")},m(f,y){A(f,e,y),u(e,r),u(e,s),u(e,l),u(l,c),u(l,o),u(e,_),u(e,d),u(d,b),u(e,m)},p(f,y){y&1&&i!==(i=(X(f[7].characterName).displayName||f[7].characterName)+"")&&ne(r,i),y&1&&a!==(a=D(f[7].before)+"")&&ne(c,a),y&1&&p!==(p=D(f[7].after)+"")&&ne(_,p)},d(f){f&&N(e)}}}function pt(t){let e,i,r=t[4].amount+"",s,l,a=(X(t[4].character).displayName||t[4].character)+"",c,h,o,p=V(t[4].gains),_=[];for(let d=0;d<p.length;d+=1)_[d]=gt(ft(t,p,d));return{c(){e=g("tspan"),i=L("$"),s=L(r),l=L(" for "),c=L(a),h=$();for(let d=0;d<_.length;d+=1)_[d].c();o=Se(),n(e,"x","6%"),n(e,"y",t[1](t[6])+"%"),n(e,"class","not-so-small svelte-1pzxc24")},m(d,b){A(d,e,b),u(e,i),u(e,s),u(e,l),u(e,c),A(d,h,b);for(let m=0;m<_.length;m+=1)_[m]&&_[m].m(d,b);A(d,o,b)},p(d,b){if(b&1&&r!==(r=d[4].amount+"")&&ne(s,r),b&1&&a!==(a=(X(d[4].character).displayName||d[4].character)+"")&&ne(c,a),b&3){p=V(d[4].gains);let m;for(m=0;m<p.length;m+=1){const f=ft(d,p,m);_[m]?_[m].p(f,b):(_[m]=gt(f),_[m].c(),_[m].m(o.parentNode,o))}for(;m<_.length;m+=1)_[m].d(1);_.length=p.length}},d(d){d&&(N(e),N(h),N(o)),ve(_,d)}}}function ci(t){let e,i,r,s,l=V(t[0].donationLog),a=[];for(let c=0;c<l.length;c+=1)a[c]=pt(ut(t,l,c));return{c(){e=g("text");for(let c=0;c<a.length;c+=1)a[c].c();i=$(),r=g("text"),s=L("donations at the top are the most recent ones"),n(e,"x","6%"),n(e,"y","18%"),n(r,"text-anchor","middle"),n(r,"x","50%"),n(r,"y","90%"),n(r,"class","not-so-small grey svelte-1pzxc24")},m(c,h){A(c,e,h);for(let o=0;o<a.length;o+=1)a[o]&&a[o].m(e,null);A(c,i,h),A(c,r,h),u(r,s)},p(c,[h]){if(h&3){l=V(c[0].donationLog);let o;for(o=0;o<l.length;o+=1){const p=ut(c,l,o);a[o]?a[o].p(p,h):(a[o]=pt(p),a[o].c(),a[o].m(e,null))}for(;o<a.length;o+=1)a[o].d(1);a.length=l.length}},i:T,o:T,d(c){c&&(N(e),N(i),N(r)),ve(a,c)}}}function hi(t,e,i){let{viewModel:r}=e;Pe();function s(l){let a=18,c=0;for(;c<l;)c++,a+=12+Math.ceil(r.donationLog[c].gains.length/3)*3;return a}return t.$$set=l=>{"viewModel"in l&&i(0,r=l.viewModel)},[r,s]}class ui extends ye{constructor(e){super(),_e(this,e,hi,ci,me,{viewModel:0})}}function fi(t){let e;return{c(){e=je("p"),e.textContent=`error: ${t[23]}`},m(i,r){A(i,e,r)},p:T,i:T,o:T,d(i){i&&N(e)}}}function gi(t){let e,i,r,s,l,a,c,h,o,p,_,d,b,m,f,y,M,W,O,I,R,k,w,v,E,G,z,S,P,F,H,K,Y,ie,ee,q,Q,te,he,ue,fe,Ie,Z=t[3]!=="MENU"&&mt(t);const Ze=[yi,_i,di,mi,pi],le=[];function Qe(C,ae){return C[3]==="MENU"?0:C[3]==="CHARACTER_CHART"?1:C[3]==="PARTY_CHART"?2:C[3]==="CHARACTER_STATS"?3:C[3]==="REVERSE_DONATION_LOG"?4:-1}~(S=Qe(t))&&(P=le[S]=Ze[S](t));let j=!!t[0]&&dt(t);return{c(){e=g("svg"),i=g("defs"),r=g("linearGradient"),s=g("stop"),l=g("stop"),a=g("linearGradient"),c=g("stop"),h=g("stop"),o=g("linearGradient"),p=g("stop"),_=g("stop"),d=g("linearGradient"),b=g("stop"),m=g("stop"),f=g("linearGradient"),y=g("stop"),M=g("stop"),W=g("linearGradient"),O=g("stop"),I=g("stop"),R=g("linearGradient"),k=g("stop"),w=g("stop"),v=g("linearGradient"),E=g("stop"),G=g("stop"),Z&&Z.c(),z=g("image"),P&&P.c(),F=g("image"),H=g("image"),K=g("image"),Y=g("image"),ie=g("rect"),ee=g("rect"),q=g("rect"),Q=g("rect"),te=g("rect"),he=g("rect"),ue=g("rect"),fe=g("rect"),j&&j.c(),n(s,"offset","0%"),n(s,"stop-color","#8b4b22"),n(l,"offset","100%"),n(l,"stop-color","#edc051"),n(r,"id","orangeGradient"),n(r,"x1","0"),n(r,"x2","0"),n(r,"y1","1"),n(r,"y2","0"),n(c,"offset","0%"),n(c,"stop-color","#084c56"),n(h,"offset","100%"),n(h,"stop-color","#10a5ad"),n(a,"id","darkTealGradient"),n(a,"x1","0"),n(a,"x2","0"),n(a,"y1","1"),n(a,"y2","0"),n(p,"offset","0%"),n(p,"stop-color","#901e1d"),n(_,"offset","100%"),n(_,"stop-color","#da3a37"),n(o,"id","redGradient"),n(o,"x1","0"),n(o,"x2","0"),n(o,"y1","1"),n(o,"y2","0"),n(b,"offset","0%"),n(b,"stop-color","#3a447f"),n(m,"offset","100%"),n(m,"stop-color","#86a8e2"),n(d,"id","blueGradient"),n(d,"x1","0"),n(d,"x2","0"),n(d,"y1","1"),n(d,"y2","0"),n(y,"offset","0%"),n(y,"stop-color","#4525cb"),n(M,"offset","100%"),n(M,"stop-color","#9464b6"),n(f,"id","purpleGradient"),n(f,"x1","0"),n(f,"x2","0"),n(f,"y1","1"),n(f,"y2","0"),n(O,"offset","0%"),n(O,"stop-color","#0a4334"),n(I,"offset","100%"),n(I,"stop-color","#16a375"),n(W,"id","darkGreenGradient"),n(W,"x1","0"),n(W,"x2","0"),n(W,"y1","1"),n(W,"y2","0"),n(k,"offset","0%"),n(k,"stop-color","#1e5119"),n(w,"offset","100%"),n(w,"stop-color","#41ba36"),n(R,"id","greenGradient"),n(R,"x1","0"),n(R,"x2","0"),n(R,"y1","1"),n(R,"y2","0"),n(E,"offset","0%"),n(E,"stop-color","#9d397b"),n(G,"offset","100%"),n(G,"stop-color","#ec61d4"),n(v,"id","pinkGradient"),n(v,"x1","0"),n(v,"x2","0"),n(v,"y1","1"),n(v,"y2","0"),n(z,"x","25%"),n(z,"y","3%"),n(z,"width","50%"),J(z,"xlink:href",Yn),n(F,"x","0%"),n(F,"y","0%"),n(F,"height","8%"),J(F,"xlink:href",Oe),n(H,"x","0%"),n(H,"y","0%"),n(H,"height","8%"),J(H,"xlink:href",Oe),n(H,"transform","scale(-1, 1)"),n(H,"transform-origin","center"),n(K,"x","0%"),n(K,"y","0%"),n(K,"height","8%"),J(K,"xlink:href",Oe),n(K,"transform","scale(1, -1)"),n(K,"transform-origin","center"),n(Y,"x","0%"),n(Y,"y","0%"),n(Y,"height","8%"),J(Y,"xlink:href",Oe),n(Y,"transform","scale(-1, -1)"),n(Y,"transform-origin","center"),n(ie,"x",`${8*t[22].viewPortHeight/t[22].viewPortWidth-.2}%`),n(ie,"y","0"),n(ie,"height","1.4%"),n(ie,"width",`${100-2*8*t[22].viewPortHeight/t[22].viewPortWidth+.4}%`),n(ie,"fill","#ae2f29"),n(ee,"x",`${8*t[22].viewPortHeight/t[22].viewPortWidth-.2}%`),n(ee,"y","1.7%"),n(ee,"height","0.75%"),n(ee,"width",`${100-2*8*t[22].viewPortHeight/t[22].viewPortWidth+.4}%`),n(ee,"fill","#ae2f29"),n(q,"x","0%"),n(q,"y","98.6%"),n(q,"height","1.5%"),n(q,"width","100%"),n(q,"fill","#ae2f29"),n(Q,"x",`${8*t[22].viewPortHeight/t[22].viewPortWidth-.2}%`),n(Q,"y","97.55%"),n(Q,"height","0.75%"),n(Q,"width",`${100-2*8*t[22].viewPortHeight/t[22].viewPortWidth+.4}%`),n(Q,"fill","#ae2f29"),n(te,"x","0%"),n(te,"y","7.8%"),n(te,"height","84.4%"),n(te,"width","0.65%"),n(te,"fill","#ae2f29"),n(he,"x","0.8%"),n(he,"y","7.8%"),n(he,"height","84.4%"),n(he,"width","0.4%"),n(he,"fill","#ae2f29"),n(ue,"x","99.35%"),n(ue,"y","7.8%"),n(ue,"height","84.4%"),n(ue,"width","0.65%"),n(ue,"fill","#ae2f29"),n(fe,"x","98.8%"),n(fe,"y","7.8%"),n(fe,"height","84.4%"),n(fe,"width","0.4%"),n(fe,"fill","#ae2f29"),n(e,"viewBox","0 0 "+t[22].viewPortWidth+" "+t[22].viewPortHeight),n(e,"xmlns","http://www.w3.org/2000/svg"),n(e,"class","chart svelte-mzsdvz")},m(C,ae){A(C,e,ae),u(e,i),u(i,r),u(r,s),u(r,l),u(i,a),u(a,c),u(a,h),u(i,o),u(o,p),u(o,_),u(i,d),u(d,b),u(d,m),u(i,f),u(f,y),u(f,M),u(i,W),u(W,O),u(W,I),u(i,R),u(R,k),u(R,w),u(i,v),u(v,E),u(v,G),Z&&Z.m(e,null),u(e,z),~S&&le[S].m(e,null),u(e,F),u(e,H),u(e,K),u(e,Y),u(e,ie),u(e,ee),u(e,q),u(e,Q),u(e,te),u(e,he),u(e,ue),u(e,fe),j&&j.m(e,null),Ie=!0},p(C,ae){C[3]!=="MENU"?Z?Z.p(C,ae):(Z=mt(C),Z.c(),Z.m(e,z)):Z&&(Z.d(1),Z=null);let Fe=S;S=Qe(C),S===Fe?~S&&le[S].p(C,ae):(P&&(Ae(),U(le[Fe],1,1,()=>{le[Fe]=null}),Le()),~S?(P=le[S],P?P.p(C,ae):(P=le[S]=Ze[S](C),P.c()),B(P,1),P.m(e,F)):P=null),C[0]?j?(j.p(C,ae),ae&1&&B(j,1)):(j=dt(C),j.c(),B(j,1),j.m(e,null)):j&&(Ae(),U(j,1,1,()=>{j=null}),Le())},i(C){Ie||(B(P),B(j),Ie=!0)},o(C){U(P),U(j),Ie=!1},d(C){C&&N(e),Z&&Z.d(),~S&&le[S].d(),j&&j.d()}}}function mt(t){let e,i,r,s,l;return{c(){e=g("rect"),i=g("text"),r=L("Menu"),n(e,"x","4%"),n(e,"y","3.5%"),n(e,"height","4.6%"),n(e,"width","6%"),n(e,"rx","1px"),n(e,"ry","1px"),n(e,"stroke","#ae2f29"),n(e,"stroke-width","0.4"),n(e,"stroke-linecap","round"),n(e,"fill","#f9edd5"),n(i,"x","4.2%"),n(i,"y","7%"),n(i,"class","menu svelte-mzsdvz")},m(a,c){A(a,e,c),A(a,i,c),u(i,r),s||(l=x(i,"click",t[7]),s=!0)},p:T,d(a){a&&(N(e),N(i)),s=!1,l()}}}function pi(t){let e,i;return e=new ui({props:{viewModel:t[22]}}),e.$on("selectcharacter",t[20]),{c(){de(e.$$.fragment)},m(r,s){oe(e,r,s),i=!0},p:T,i(r){i||(B(e.$$.fragment,r),i=!0)},o(r){U(e.$$.fragment,r),i=!1},d(r){ce(e,r)}}}function mi(t){let e,i;return e=new oi({props:{viewModel:t[22]}}),e.$on("selectcharacter",t[19]),{c(){de(e.$$.fragment)},m(r,s){oe(e,r,s),i=!0},p:T,i(r){i||(B(e.$$.fragment,r),i=!0)},o(r){U(e.$$.fragment,r),i=!1},d(r){ce(e,r)}}}function di(t){let e,i;return e=new qn({props:{viewModel:t[22]}}),{c(){de(e.$$.fragment)},m(r,s){oe(e,r,s),i=!0},p:T,i(r){i||(B(e.$$.fragment,r),i=!0)},o(r){U(e.$$.fragment,r),i=!1},d(r){ce(e,r)}}}function _i(t){let e,i;return e=new Un({props:{viewModel:t[22],groupCharacters:t[2],displayPromoText:!t[1]}}),e.$on("selectcharacter",t[18]),{c(){de(e.$$.fragment)},m(r,s){oe(e,r,s),i=!0},p(r,s){const l={};s&4&&(l.groupCharacters=r[2]),s&2&&(l.displayPromoText=!r[1]),e.$set(l)},i(r){i||(B(e.$$.fragment,r),i=!0)},o(r){U(e.$$.fragment,r),i=!1},d(r){ce(e,r)}}}function yi(t){let e,i,r,s,l,a,c,h,o,p,_=t[1]?"ON":"OFF",d,b,m,f,y=t[2]?"ON":"OFF",M,W,O,I,R,k,w,v,E,G,z,S,P;return{c(){e=g("rect"),i=g("rect"),r=g("rect"),s=g("rect"),l=g("text"),a=g("tspan"),c=L("Character chart"),h=$(),o=g("tspan"),p=L("Immobility thresholds: "),d=L(_),b=$(),m=g("tspan"),f=L("Group unnamed characters: "),M=L(y),W=$(),O=g("tspan"),I=L("Party chart"),R=$(),k=g("tspan"),w=L("Character stats"),v=$(),E=g("tspan"),G=L("Donation log"),z=$(),n(e,"x","20%"),n(e,"y","16.5%"),n(e,"height","4.6%"),n(e,"width","22%"),n(e,"rx","1px"),n(e,"ry","1px"),n(e,"stroke","#ae2f29"),n(e,"stroke-width","0.4"),n(e,"stroke-linecap","round"),n(e,"fill","#f9edd5"),n(i,"x","20%"),n(i,"y","38.5%"),n(i,"height","4.6%"),n(i,"width","22%"),n(i,"rx","1px"),n(i,"ry","1px"),n(i,"stroke","#ae2f29"),n(i,"stroke-width","0.4"),n(i,"stroke-linecap","round"),n(i,"fill","#f9edd5"),n(r,"x","20%"),n(r,"y","48.5%"),n(r,"height","4.6%"),n(r,"width","22%"),n(r,"rx","1px"),n(r,"ry","1px"),n(r,"stroke","#ae2f29"),n(r,"stroke-width","0.4"),n(r,"stroke-linecap","round"),n(r,"fill","#f9edd5"),n(s,"x","20%"),n(s,"y","58.5%"),n(s,"height","4.6%"),n(s,"width","22%"),n(s,"rx","1px"),n(s,"ry","1px"),n(s,"stroke","#ae2f29"),n(s,"stroke-width","0.4"),n(s,"stroke-linecap","round"),n(s,"fill","#f9edd5"),n(a,"x","22%"),n(a,"dy","0%"),n(a,"class","menu svelte-mzsdvz"),n(o,"x","20%"),n(o,"dy","7%"),n(o,"class","menu svelte-mzsdvz"),n(m,"x","20%"),n(m,"dy","5%"),n(m,"class","menu svelte-mzsdvz"),n(O,"x","22%"),n(O,"dy","10%"),n(O,"class","menu svelte-mzsdvz"),n(k,"x","22%"),n(k,"dy","10%"),n(k,"class","menu svelte-mzsdvz"),n(E,"x","22%"),n(E,"dy","10%"),n(E,"class","menu svelte-mzsdvz"),n(l,"x","20%"),n(l,"y","20%")},m(F,H){A(F,e,H),A(F,i,H),A(F,r,H),A(F,s,H),A(F,l,H),u(l,a),u(a,c),u(l,h),u(l,o),u(o,p),u(o,d),u(l,b),u(l,m),u(m,f),u(m,M),u(l,W),u(l,O),u(O,I),u(l,R),u(l,k),u(k,w),u(l,v),u(l,E),u(E,G),u(l,z),S||(P=[x(e,"click",t[8]),x(i,"click",t[9]),x(r,"click",t[10]),x(s,"click",t[11]),x(a,"click",t[12]),x(o,"click",t[13]),x(m,"click",t[14]),x(O,"click",t[15]),x(k,"click",t[16]),x(E,"click",t[17])],S=!0)},p(F,H){H&2&&_!==(_=F[1]?"ON":"OFF")&&ne(d,_),H&4&&y!==(y=F[2]?"ON":"OFF")&&ne(M,y)},i:T,o:T,d(F){F&&(N(e),N(i),N(r),N(s),N(l)),S=!1,re(P)}}}function dt(t){let e,i;return e=new si({props:{viewModel:t[22],characterName:t[0]}}),e.$on("close",t[21]),{c(){de(e.$$.fragment)},m(r,s){oe(e,r,s),i=!0},p(r,s){const l={};s&1&&(l.characterName=r[0]),e.$set(l)},i(r){i||(B(e.$$.fragment,r),i=!0)},o(r){U(e.$$.fragment,r),i=!1},d(r){ce(e,r)}}}function bi(t){let e;return{c(){e=je("p"),e.textContent="loading data..."},m(i,r){A(i,e,r)},p:T,i:T,o:T,d(i){i&&N(e)}}}function Mi(t){let e,i,r={ctx:t,current:null,token:null,hasCatch:!0,pending:bi,then:gi,catch:fi,value:22,error:23,blocks:[,,,]};return Ct(t[4](),r),{c(){e=je("main"),r.block.c()},m(s,l){A(s,e,l),r.block.m(e,r.anchor=null),r.mount=()=>e,r.anchor=null,i=!0},p(s,[l]){t=s,Rt(r,t,l)},i(s){i||(B(r.block),i=!0)},o(s){for(let l=0;l<3;l+=1){const a=r.blocks[l];U(a)}i=!1},d(s){s&&N(e),r.block.d(),r.token=null,r=null}}}function ki(t,e,i){let r;async function s(){let E=await fetch("https://docs.google.com/spreadsheets/d/e/2PACX-1vShRwjPHvlfF_8R6YEjJ4LvbvJ8BOCn5r3HikzbXJhrJYklPAr19Ibbpmcb09wCg9Gr5_OhfX_F-1LS/pub?gid=0&single=true&output=tsv");const G=Zn(await E.text()),z=On(G),S=En(z);return Sn(z,S,G)}let l,a=!1,c=!1;function h(E){i(3,r=E)}function o(E){i(0,l=E)}const p=()=>h("MENU"),_=()=>h("CHARACTER_CHART"),d=()=>h("PARTY_CHART"),b=()=>h("CHARACTER_STATS"),m=()=>h("REVERSE_DONATION_LOG"),f=()=>h("CHARACTER_CHART"),y=()=>i(1,a=!a),M=()=>i(2,c=!c),W=()=>h("PARTY_CHART"),O=()=>h("CHARACTER_STATS"),I=()=>h("REVERSE_DONATION_LOG"),R=E=>o(E.detail.characterName),k=E=>o(E.detail.characterName),w=E=>o(E.detail.characterName),v=()=>i(0,l=null);return i(3,r="CHARACTER_CHART"),i(0,l=null),[l,a,c,r,s,h,o,p,_,d,b,m,f,y,M,W,O,I,R,k,w,v]}class wi extends ye{constructor(e){super(),_e(this,e,ki,Mi,me,{})}}new wi({target:document.getElementById("app")});
